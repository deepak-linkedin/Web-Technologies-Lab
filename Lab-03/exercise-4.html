<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Activity Monitor</title>

    <style>
        body {
            font-family: "Segoe UI", sans-serif;
            background: linear-gradient(to right, #74ebd5, #9face6);
            margin: 0;
            padding: 0;
            color: #fff;
        }

        .container {
            width: 90%;
            max-width: 900px;
            margin: 40px auto;
            background: #ffffff;
            color: #333;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.25);
        }

        h1 {
            text-align: center;
            color: #1d2671;
        }

        .info {
            text-align: center;
            margin-bottom: 20px;
            font-size: 14px;
            color: #555;
        }

        .activity-box {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            height: 260px;
            overflow-y: auto;
            background: #f9f9f9;
        }

        .log {
            font-size: 14px;
            margin-bottom: 8px;
            padding: 6px;
            border-left: 4px solid #1d2671;
            background: #fff;
        }

        .warning {
            background: #ffe6e6;
            color: #b30000;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
            display: none;
            margin-top: 15px;
            font-weight: bold;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        button {
            padding: 10px 18px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
        }

        .reset-btn {
            background: #ff5252;
            color: #fff;
        }

        .export-btn {
            background: #1d2671;
            color: #fff;
        }

        button:hover {
            opacity: 0.9;
        }

        input {
            margin-top: 15px;
            padding: 10px;
            width: 100%;
            border-radius: 6px;
            border: 1px solid #ccc;
        }

        footer {
            text-align: center;
            margin-top: 20px;
            font-size: 13px;
            color: #666;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Real-Time User Activity Monitor</h1>
    <p class="info">Tracks clicks, key presses, and focus events in real time</p>

    <input type="text" placeholder="Click here and type something to generate activity">

    <div class="activity-box" id="activityBox"></div>

    <div class="warning" id="warning">
        âš  Suspicious activity detected! Too many actions.
    </div>

    <div class="controls">
        <button class="reset-btn" onclick="resetLog()">Reset Log</button>
        <button class="export-btn" onclick="exportLog()">Export Log</button>
    </div>

</div>

<script>
    let activityLog = [];
    let clickCount = 0;
    const CLICK_LIMIT = 10;

    const activityBox = document.getElementById("activityBox");
    const warningBox = document.getElementById("warning");

    function logActivity(type, details) {
        const activity = {
            type: type,
            details: details,
            time: new Date().toLocaleTimeString()
        };

        activityLog.push(activity);
        displayActivity(activity);
    }

    function displayActivity(activity) {
        const div = document.createElement("div");
        div.className = "log";
        div.textContent = `[${activity.time}] ${activity.type}: ${activity.details}`;
        activityBox.appendChild(div);
        activityBox.scrollTop = activityBox.scrollHeight;
    }

    document.addEventListener("click", function (e) {
        clickCount++;
        logActivity("Click", `Clicked on ${e.target.tagName}`);

        if (clickCount >= CLICK_LIMIT) {
            warningBox.style.display = "block";
        }
    }, false);

    document.addEventListener("keydown", function (e) {
        logActivity("Key Press", `Key "${e.key}" pressed`);
    }, true);

    document.addEventListener("focusin", function (e) {
        logActivity("Focus", `Focused on ${e.target.tagName}`);
    });

    function resetLog() {
        activityLog = [];
        clickCount = 0;
        activityBox.innerHTML = "";
        warningBox.style.display = "none";
    }

    function exportLog() {
        let output = "User Activity Log:\n\n";
        activityLog.forEach((act, index) => {
            output += `${index + 1}. [${act.time}] ${act.type} - ${act.details}\n`;
        });

        alert(output);
    }
</script>

</body>
</html>